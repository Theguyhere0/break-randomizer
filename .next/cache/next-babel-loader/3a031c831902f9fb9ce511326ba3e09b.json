{"ast":null,"code":"import _classCallCheck from \"@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"@babel/runtime/helpers/esm/createClass\";\nimport _assertThisInitialized from \"@babel/runtime/helpers/esm/assertThisInitialized\";\nimport _inherits from \"@babel/runtime/helpers/esm/inherits\";\nimport _possibleConstructorReturn from \"@babel/runtime/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"@babel/runtime/helpers/esm/getPrototypeOf\";\nimport _defineProperty from \"@babel/runtime/helpers/esm/defineProperty\";\nvar __jsx = React.createElement;\n\nfunction _createSuper(Derived) { var hasNativeReflectConstruct = _isNativeReflectConstruct(); return function _createSuperInternal() { var Super = _getPrototypeOf(Derived), result; if (hasNativeReflectConstruct) { var NewTarget = _getPrototypeOf(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return _possibleConstructorReturn(this, result); }; }\n\nfunction _isNativeReflectConstruct() { if (typeof Reflect === \"undefined\" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === \"function\") return true; try { Date.prototype.toString.call(Reflect.construct(Date, [], function () {})); return true; } catch (e) { return false; } }\n\nimport React, { Component } from 'react';\nimport Layout from '../../components/Layout';\nimport { Dropdown, Grid, Button, Header, Message } from 'semantic-ui-react';\nvar actSetList = [];\n\nfunction getOptions() {\n  actSetList.length = 0;\n\n  for (var i in window.localStorage) {\n    if (window.localStorage.getItem(i) && i !== \"ally-supports-cache\") {\n      actSetList.push(JSON.parse(window.localStorage.getItem(i)));\n    }\n  }\n}\n\nvar MainMenu = /*#__PURE__*/function (_Component) {\n  _inherits(MainMenu, _Component);\n\n  var _super = _createSuper(MainMenu);\n\n  function MainMenu() {\n    var _this;\n\n    _classCallCheck(this, MainMenu);\n\n    for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n      args[_key] = arguments[_key];\n    }\n\n    _this = _super.call.apply(_super, [this].concat(args));\n\n    _defineProperty(_assertThisInitialized(_this), \"state\", {\n      title: '',\n      activity: ''\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"handleChange\", function (e, _ref) {\n      var value = _ref.value;\n      return _this.setState({\n        title: value\n      });\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"handleClick\", function () {\n      var activities, actWeights, actNames, sumWeight, rand;\n      activities = JSON.parse(window.localStorage.getItem(_this.state.title)).activities;\n      actNames = activities.map(function (e) {\n        return e.key;\n      });\n      actWeights = activities.map(function (e) {\n        return e.weight;\n      });\n      sumWeight = actWeights.reduce(function (a, b) {\n        return a + b;\n      }, 0);\n      rand = Math.floor(Math.random() * sumWeight);\n\n      for (var i = 0; i < actWeights.length; i++) {\n        rand - actWeights[i];\n\n        if (rand < 0) {\n          _this.setState({\n            activity: actNames[i]\n          });\n\n          break;\n        }\n      }\n\n      ;\n      console.log(_this.state.activity);\n    });\n\n    return _this;\n  }\n\n  _createClass(MainMenu, [{\n    key: \"componentDidMount\",\n    value: function componentDidMount() {\n      getOptions();\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      return __jsx(Layout, null, __jsx(Grid, null, __jsx(Grid.Row, null, __jsx(Grid.Column, {\n        width: 8\n      }, __jsx(\"h2\", {\n        style: {\n          textAlign: 'right'\n        }\n      }, \"Choose Activity Set\")), __jsx(Grid.Column, {\n        width: 5\n      }, __jsx(Dropdown, {\n        placeholder: \"Activity Set\",\n        search: true,\n        selection: true,\n        options: actSetList,\n        onChange: this.handleChange,\n        value: this.state.title\n      }))), __jsx(Grid.Row, null, __jsx(Grid.Column, {\n        width: 10,\n        verticalAlign: \"middle\"\n      }, __jsx(Header, {\n        size: \"huge\"\n      }, \"My break will now be...\")), __jsx(Grid.Column, {\n        width: 6\n      }, __jsx(Button, {\n        size: \"massive\",\n        primary: true,\n        floated: \"right\",\n        content: \"Break Time!\",\n        onClick: this.handleClick\n      }))), __jsx(Grid.Row, null, __jsx(Grid.Column, null, __jsx(Message, {\n        positive: true,\n        size: \"huge\",\n        content: this.state.activity,\n        hidden: !this.state.activity,\n        style: {\n          textAlign: 'center'\n        }\n      })))));\n    }\n  }]);\n\n  return MainMenu;\n}(Component);\n\nexport { MainMenu as default };","map":{"version":3,"sources":["C:/Users/mxlin/Documents/GitHub/break-randomizer/pages/main/index.js"],"names":["React","Component","Layout","Dropdown","Grid","Button","Header","Message","actSetList","getOptions","length","i","window","localStorage","getItem","push","JSON","parse","MainMenu","title","activity","e","value","setState","activities","actWeights","actNames","sumWeight","rand","state","map","key","weight","reduce","a","b","Math","floor","random","console","log","textAlign","handleChange","handleClick"],"mappings":"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","sourcesContent":["import React, {Component} from 'react';\r\nimport Layout from '../../components/Layout';\r\nimport {Dropdown, Grid, Button, Header, Message} from 'semantic-ui-react';\r\n\r\nlet actSetList = [];\r\nfunction getOptions() {\r\n  actSetList.length = 0;\r\n  for (const i in window.localStorage) {\r\n    if (window.localStorage.getItem(i) && i !== \"ally-supports-cache\") {\r\n      actSetList.push(JSON.parse(window.localStorage.getItem(i)));\r\n    }\r\n  }\r\n}\r\n\r\nexport default class MainMenu extends Component {\r\n  componentDidMount() {\r\n    getOptions();\r\n  }\r\n\r\n  state = {\r\n    title: '',\r\n    activity: ''\r\n  }\r\n\r\n// Changes title display to match current value and keeps track of true title\r\n  handleChange = (e, {value}) => this.setState({title: value});\r\n\r\n  handleClick = () => {\r\n    let activities, actWeights, actNames, sumWeight, rand;\r\n    activities = JSON.parse(window.localStorage.getItem(this.state.title)).activities;\r\n    actNames = activities.map(function(e) {\r\n      return e.key;\r\n    });\r\n    actWeights = activities.map(function(e) {\r\n      return e.weight;\r\n    });\r\n    sumWeight = actWeights.reduce(function(a, b) {\r\n      return a + b;\r\n    }, 0);\r\n    rand = Math.floor(Math.random() * sumWeight);\r\n    for (let i = 0; i < actWeights.length; i++) {\r\n      rand - actWeights[i];\r\n      if (rand < 0) {\r\n        this.setState({activity: actNames[i]});\r\n        break;\r\n      }\r\n    };\r\n    console.log(this.state.activity);\r\n  }\r\n\r\n  render() {\r\n    return(\r\n      <Layout>\r\n        <Grid>\r\n          <Grid.Row>\r\n            <Grid.Column width={8}>\r\n              <h2 style={{textAlign:'right'}}>Choose Activity Set</h2>\r\n            </Grid.Column>\r\n            <Grid.Column width={5}>\r\n              <Dropdown\r\n              placeholder='Activity Set'\r\n              search\r\n              selection\r\n              options={actSetList}\r\n              onChange={this.handleChange}\r\n              value={this.state.title}\r\n              />\r\n            </Grid.Column>\r\n          </Grid.Row>\r\n          <Grid.Row>\r\n            <Grid.Column\r\n              width={10}\r\n              verticalAlign='middle'\r\n            >\r\n              <Header size='huge'>My break will now be...</Header>\r\n            </Grid.Column>\r\n            <Grid.Column width={6}>\r\n              <Button\r\n              size='massive'\r\n              primary\r\n              floated='right'\r\n              content='Break Time!'\r\n              onClick={this.handleClick}\r\n              />\r\n            </Grid.Column>\r\n          </Grid.Row>\r\n          <Grid.Row>\r\n            <Grid.Column>\r\n              <Message\r\n                positive\r\n                size='huge'\r\n                content={this.state.activity}\r\n                hidden={!this.state.activity}\r\n                style={{textAlign: 'center'}}\r\n              />\r\n            </Grid.Column>\r\n          </Grid.Row>\r\n        </Grid>\r\n      </Layout>\r\n    );\r\n  }\r\n}\r\n"]},"metadata":{},"sourceType":"module"}